!function(){var a=function(){};a.toJPG=function(a,c){b(a,c,"image/jpeg")},a.toPNG=function(a,c){b(a,c,"image/png")};var b=function(a,b,d){if("string"!=typeof a)throw new TypeError("Source must be a string");if(!a)throw new Error("No Image Source Defined.");if(!b||"function"!=typeof b)throw new Error('Callback is not defined or not of type "function"');d||(d="image/png");var f=c(),g=f.getContext("2d"),h=new Image;h.onload=function(){g.drawImage(h,0,0);var a=f.toDataURL(d);e(f),b.call(this,a)},h.src=a},c=function(){var a=document.createElement("canvas");return a.style.display="none",d(a),a},d=function(a){document.body.appendChild(a)},e=function(a){document.body.removeChild(a)};window.Canary=a}();